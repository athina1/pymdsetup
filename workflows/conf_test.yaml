######################## pymdsetup configuration file ########################

########################## System dependent paths ############################
linux:
  gmx_path: /usr/local/gromacs/bin/gmx
  scwrl4_path: /home/pau/soft/scwrl4/Scwrl4
  workflow_path: /home/pau/projects/pymdsetup/testworkflow
  mdp_path: /home/pau/projects/pymdsetup/workflows/mdp
  gnuplot_path: /usr/bin/gnuplot

macos:
  gmx_path: /usr/local/bin/gmx
  scwrl4_path: /Users/pau/soft/scwrl4/Scwrl4
  workflow_path: /Users/pau/Desktop/test
  mdp_path: /Users/pau/projects/pymdsetup/workflows/mdp
  gnuplot_path: /usr/bin/gnuplot

pycompss_vm:
  gmx_path: /usr/local/gromacs/bin/gmx
  scwrl4_path: /home/compss/scwrl/scwrl4/Scwrl4
  workflow_path: /home/compss/pymdsetup/testworkflow
  mdp_path: /home/compss/pymdsetup/workflows/mdp/
  gnuplot_path: /usr/bin/gnuplot

pycompss_open_nebula:
  gmx_path: /usr/local/gromacs/bin/gmx
  scwrl4_path: /home/user/scwrl4/Scwrl4
  workflow_path: /home/user/pymdsetup/testworkflow
  mdp_path: /home/user/pymdsetup/workflows/mdp/
  gnuplot_path: /usr/bin/gnuplot


pycompss_MN:
  gmx_path: /gpfs/home/bsc51/bsc51210/gromacs/bin/gmx
  scwrl4_path: /gpfs/home/bsc51/bsc51210/scwrl4/Scwrl4
  workflow_path: /gpfs/home/bsc51/bsc51210/pymdsetup/testworkflow
  mdp_path: /gpfs/home/bsc51/bsc51210/pymdsetup/workflows/mdp/
  gnuplot_path: /gpfs/apps/MN3/GNUPLOT/5.0.1/bin/gnuplot
##############################################################################

# PDB code
pdb_code: 2JQ3

# Max number of mutations
# Available values None, Integer
mutations_limit: 3


########################## Step paths & properties ##########################
# Step 1: mmbpdb -- Get PDB
step1_mmbpdb:
  paths:
    path: step1_mmbpdb
    pdb: structure.pdb

# Step2: mmbuniprot -- Get mutations
# No configuration yet required

# Step3: scw -- Model mutation
step3_scw:
  paths:
    path: step3_scw
    out: scw.out
    err: scw.err
    mut_pdb: mutated.pdb

# Step4: p2g -- Create gromacs topology
step4_p2g:
  paths:
    path: step4_p2g
    out: p2g.out
    err: p2g.err
    gro: p2g.gro
    top: p2g.top
    tar: p2g_top.tar
  properties:
    # Available water molecule types: tip3p, spce, etc.
    water_type: spce
    # Available force fields: amber99sb-ildn, oplsaa, etc.
    force_field: oplsaa
    # Should be set to False in next release
    ignh: True

# Step5: ec -- Define box dimensions
step5_ec:
  paths:
    path: step5_ec
    out: ec.out
    err: ec.err
    gro: ec.gro
  properties:
    # Distance of the box from the outermost atom in nm. ie 1.0nm = 10 Ångströms
    distance_to_molecule: 1.0
    # Available box types: octahedron, cubic, etc.
    box_type: cubic
    center_molecule: True

# Step6: sol -- Fill the box with water molecules
step6_sol:
  paths:
    path: step6_sol
    out: sol.out
    err: sol.err
    gro: sol.gro
    top: sol.top
    tar: sol_top.tar
  properties:
    input_solvent_gro_path: spc216.gro

# Step7: gppions -- Preprocessing: Add ions to neutralice the charge
step7_gppions:
  paths:
    path: step7_gppions
    out: gppions.out
    err: gppions.err
    tpr: gppions.tpr
    mdp: gmx_full_ions_test.mdp


# Step8: gio -- Running: Add ions to neutralice the charge
step8_gio:
  paths:
    path: step8_gio
    out: gio.out
    err: gio.err
    gro: gio.gro
    top: gio.top
    tar: gio_top.tar
  properties:
    neutral: True
    # If neutral is True concentration value is not used
    concentration: 0.05

# Step9: gppmin -- Preprocessing: Energy minimization
step9_gppmin:
  paths:
    path: step9_gppmin
    out: gppmin.out
    err: gppmin.err
    mdp: gmx_full_min_test.mdp
    tpr: gppmin.tpr

# Step10: mdmin -- Running: Energy minimization
step10_mdmin:
  paths:
    path: step10_mdmin
    out: mdmin.out
    err: mdmin.err
    gro: mdmin.gro
    trr: mdmin.trr
    edr: mdmin.edr
    cpt: mdmin.cpt
    xtc: mdmin.xtc

# Step11: gppnvt -- Preprocessing: nvt constant number of molecules,
# volume and temp
step11_gppnvt:
  paths:
    path: step11_gppnvt
    out: gppnvt.out
    err: gppnvt.err
    mdp: gmx_full_nvt_test.mdp
    tpr: gppnvt.tpr

# Step12: mdnvt -- Running: nvt constant number of molecules, volume and temp
step12_mdnvt:
  paths:
    path: step12_mdnvt
    out: mdnvt.out
    err: mdnvt.err
    trr: mdnvt.trr
    gro: mdnvt.gro
    edr: mdnvt.edr
    cpt: mdnvt.cpt
    xtc: mdnvt.xtc

# Step13: gppnpt -- Preprocessing: npt constant number of molecules, pressure
# and temp
step13_gppnpt:
  paths:
    path: step13_gppnpt
    out: gppnpt.out
    err: gppnpt.err
    mdp: gmx_full_npt_test.mdp
    tpr: npt.tpr

# Step14: mdnpt -- Running: npt constant number of molecules, pressure and temp
step14_mdnpt:
  paths:
    path: step14_mdnpt
    out: mdnpt.out
    err: mdnpt.err
    trr: mdnpt.trr
    gro: mdnpt.gro
    edr: mdnpt.edr
    cpt: mdnpt.cpt
    xtc: mdnpt.xtc

# Step15: gppeq -- Preprocessing: 1ns Molecular dynamics Equilibration
step15_gppeq:
  paths:
    path: step15_gppeq
    out: gppeq.out
    err: gppeq.err
    mdp: gmx_full_md_test.mdp
    tpr: gppeq.tpr

# Step16: mdeq -- Running: 1ns Molecular dynamics Equilibration
step16_mdeq:
  paths:
    path: step16_mdeq
    out: mdeq.out
    err: mdeq.err
    trr: mdeq.trr
    gro: mdeq.gro
    edr: mdeq.edr
    cpt: mdeq.cpt
    xtc: mdeq.xtc

# Step17: rms -- Computing RMSD
step17_rmsd:
  paths:
    path: step17_rmsd
    out: rmsd.out
    err: rmsd.err
    xvg: rmsd.xvg

# Step18: gnuplot ----- Creating RMSD plot
step18_gnuplot:
  paths:
    path: step18_gnuplot
    out: gplot.out
    err: gplot.err
    png: gplot.png
    plotscript: gplot.plotscript
